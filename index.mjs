// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-count-by@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-ranks@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-chisquare-cdf@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-identity-function@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-incrspace@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@esm/index.mjs";import{isPrimitive as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import{isPrimitive as c}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-roundn@esm/index.mjs";function v(s,e){return t(e)?j(e,"alpha")&&(s.alpha=e.alpha,!m(s.alpha)||f(s.alpha))?new TypeError(h("0fh8h","alpha",s.alpha)):j(e,"groups")&&(s.groups=e.groups,!p(s.groups))?new TypeError(h("0fh8t","groups",s.groups)):null:new TypeError(h("0fh2h",e))}function b(s){var e,i,r;if(i=4,e=!0,arguments.length>0){if(!t(s))throw new TypeError(h("0fh3X",s));if(j(s,"digits")){if(!g(s.digits))throw new TypeError(h("0fh3b","digits",s.digits));i=s.digits}if(j(s,"decision")){if(!c(s.decision))throw new TypeError(h("0fh30","decision",s.decision));e=s.decision}}return r="",r+=this.method,r+="\n\n",r+="Null hypothesis: the medians of all groups are the same",r+="\n\n",r+="    pValue: "+u(this.pValue,-i)+"\n",r+="    statistic: "+u(this.statistic,-i),r+="    df: "+this.df,r+="\n\n",e&&(r+="Test Decision: ",this.rejected?r+="Reject null in favor of alternative at "+100*this.alpha+"% significance level":r+="Fail to reject null in favor of alternative at "+100*this.alpha+"% significance level",r+="\n"),r}function w(){var p,m,f,j,g,c,u,w,x,y,E,T,V,k,q,R,F,D,I,K,M,N,O,P;if(E={},t(arguments[(j=arguments.length)-1])&&(g=arguments[j-1],j-=1,R=v(E,g)))throw R;if(m={},M={},E.groups){if((O=arguments[0]).length!==E.groups.length)throw new RangeError(h("invalid arguments. First argument and `%s` must be arrays having the same length.","opts.groups"));for(M=i(E.groups,l),j=(c=r(M)).length,I=0;I<j;I++)m[F=c[I]]=0;if(j<2)throw new Error(h("invalid option. `%s` option must be an array containing at least two unique elements. Option: `%s`.","groups",c));p=E.groups}else{if(O=[],p=[],j<2)throw new Error(h("invalid invocation. Incorrect number of arguments. Must provide at least two array-like arguments. Value: `%s`.",q));for(I=0;I<j;I++){if(!s(q=arguments[I]))throw new TypeError(h("0fh8q",q));if(0===q.length)throw new Error(h("0fh8r",q));for(M[I]=q.length,m[I]=0,K=0;K<M[I];K++)p.push(I),O.push(q[K])}c=d(0,j,1)}if((u=void 0===E.alpha?.05:E.alpha)<0||u>1)throw new RangeError(h("invalid option. `%s` must be a number on the interval: [0, 1]. Value: `%f`.","alpha",u));for(N=O.length,x=n(O),k={},I=0;I<N;I++)m[p[I]]+=x[I],O[I]in k?k[O[I]]+=1:k[O[I]]=1;for(V=0,I=0;I<j;I++)F=c[I],V+=o(m[F],2)/M[F];for(V=12/(N*(N+1))*V-3*(N+1),f=0,y=r(k),I=0;I<y.length;I++)P=k[y[I]],f+=o(P,3)-P;return V/=1-f/(o(N,3)-N),T=1-a(V,w=j-1),e(D={},"rejected",T<=u),e(D,"alpha",u),e(D,"df",w),e(D,"pValue",T),e(D,"statistic",V),e(D,"method","Kruskal-Wallis Test"),e(D,"print",b),D}export{w as default};
//# sourceMappingURL=index.mjs.map
