// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-count-by@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-ranks@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-pow@v0.3.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-chisquare-cdf@v0.2.1-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-identity-function@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-incrspace@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@v0.2.2-esm/index.mjs";import{isPrimitive as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.2.2-esm/index.mjs";import{isPrimitive as c}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-roundn@v0.2.2-esm/index.mjs";function u(s){var e,i,r;if(i=4,e=!0,arguments.length>0){if(!t(s))throw new TypeError(h("1Lb3L",s));if(f(s,"digits")){if(!g(s.digits))throw new TypeError(h("1Lb3P","digits",s.digits));i=s.digits}if(f(s,"decision")){if(!c(s.decision))throw new TypeError(h("1Lb2o","decision",s.decision));e=s.decision}}return r="",r+=this.method,r+="\n\n",r+="Null hypothesis: the medians of all groups are the same",r+="\n\n",r+="    pValue: "+v(this.pValue,-i)+"\n",r+="    statistic: "+v(this.statistic,-i),r+="    df: "+this.df,r+="\n\n",e&&(r+="Test Decision: ",this.rejected?r+="Reject null in favor of alternative at "+100*this.alpha+"% significance level":r+="Fail to reject null in favor of alternative at "+100*this.alpha+"% significance level",r+="\n"),r}function b(){var g,c,v,b,w,x,y,L,E,T,V,k,P,R,q,W,D,F,K,N,X,Y,Z,z;if(V={},t(arguments[(b=arguments.length)-1])&&(w=arguments[b-1],b-=1,W=function(s,e){return t(e)?f(e,"alpha")&&(s.alpha=e.alpha,!m(s.alpha)||j(s.alpha))?new TypeError(h("1Lb8P","alpha",s.alpha)):f(e,"groups")&&(s.groups=e.groups,!a(s.groups))?new TypeError(h("1Lb8Z","groups",s.groups)):null:new TypeError(h("1Lb2V",e))}(V,w),W))throw W;if(c={},X={},V.groups){if((Z=arguments[0]).length!==V.groups.length)throw new RangeError(h("1Lb9p","opts.groups"));for(X=i(V.groups,l),b=(x=r(X)).length,K=0;K<b;K++)c[D=x[K]]=0;if(b<2)throw new Error(h("1Lb8W","groups",x));g=V.groups}else{if(Z=[],g=[],b<2)throw new Error(h("1Lb9q",q));for(K=0;K<b;K++){if(!s(q=arguments[K]))throw new TypeError(h("1Lb8X",q));if(0===q.length)throw new Error(h("1Lb8Y",q));for(X[K]=q.length,c[K]=0,N=0;N<X[K];N++)g.push(K),Z.push(q[N])}x=p(0,b,1)}if((y=void 0===V.alpha?.05:V.alpha)<0||y>1)throw new RangeError(h("1Lb9r","alpha",y));for(Y=Z.length,E=n(Z),R={},K=0;K<Y;K++)c[g[K]]+=E[K],Z[K]in R?R[Z[K]]+=1:R[Z[K]]=1;for(P=0,K=0;K<b;K++)D=x[K],P+=o(c[D],2)/X[D];for(P=12/(Y*(Y+1))*P-3*(Y+1),v=0,T=r(R),K=0;K<T.length;K++)z=R[T[K]],v+=o(z,3)-z;return P/=1-v/(o(Y,3)-Y),k=1-d(P,L=b-1),e(F={},"rejected",k<=y),e(F,"alpha",y),e(F,"df",L),e(F,"pValue",k),e(F,"statistic",P),e(F,"method","Kruskal-Wallis Test"),e(F,"print",u),F}export{b as default};
//# sourceMappingURL=index.mjs.map
